<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tank Calculator - Offline Mode</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: white;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            text-align: center;
        }
        h1 {
            color: #FFD700;
            margin-bottom: 30px;
        }
        .status {
            background: rgba(76,175,80,0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #4CAF50;
        }
        .error {
            background: rgba(244,67,54,0.2);
            border-left-color: #f44336;
        }
        input, select, button {
            background: rgba(255,255,255,0.9);
            border-radius: 12px;
            border: none;
            color: #003366;
            font-size: 16px;
            margin: 10px;
            padding: 12px 20px;
            width: 200px;
        }
        button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76,175,80,0.4);
        }
        .tank-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        .tank-button {
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: auto;
            margin: 0;
        }
        .tank-button:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
        }
        .tank-button.selected {
            background: rgba(76,175,80,0.3);
            border-color: #4CAF50;
        }
        .result-box {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            text-align: right;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ›¢ï¸ Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª - ÙˆØ¶Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ù„ÙŠ</h1>
        
        <div class="status">
            âœ… ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù…ØªÙˆÙØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹<br>
            ğŸ¯ Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª: 460, 301, 834, 533, 532 + Ø§Ù„Ù…Ø²ÙŠØ¯
        </div>

        <h3>Ø§Ø®ØªØ± Ø§Ù„Ø®Ø²Ø§Ù†:</h3>
        <div class="tank-list" id="tankList"></div>

        <div>
            <input type="number" id="currentLevel" placeholder="Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ù…)" step="0.1">
            <br>
            <button onclick="calculate()">ğŸ§® Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ø±Ø§Ù…ÙŠÙ„</button>
            <button onclick="showAllTanks()">ğŸ“‹ Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª</button>
        </div>

        <div id="result" class="result-box" style="display: none;"></div>
    </div>

    <script>
        // Local tank data - no Firebase needed
        const tankData = {
            // Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            '460': { BPM: 11500, minLevel: 1.5, maxLevel: 16.0, department: 'PBCR', status: 'Ù…Ø·Ù„ÙˆØ¨Ø©' },
            '301': { BPM: 10500, minLevel: 1.6, maxLevel: 15.8, department: 'PBCR', status: 'Ù…Ø·Ù„ÙˆØ¨Ø©' },
            '834': { BPM: 13200, minLevel: 1.4, maxLevel: 15.5, department: 'PBCR', status: 'Ù…Ø·Ù„ÙˆØ¨Ø©' },
            '533': { BPM: 12100, minLevel: 1.5, maxLevel: 16.0, department: 'PBCR', status: 'Ù…Ø·Ù„ÙˆØ¨Ø©' },
            '532': { BPM: 12000, minLevel: 1.5, maxLevel: 16.0, department: 'PBCR', status: 'Ù…Ø·Ù„ÙˆØ¨Ø©' },
            
            // Ø®Ø²Ø§Ù†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
            '302': { BPM: 10600, minLevel: 1.6, maxLevel: 15.8, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' },
            '303': { BPM: 10700, minLevel: 1.6, maxLevel: 15.8, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' },
            '401': { BPM: 10800, minLevel: 1.4, maxLevel: 15.5, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' },
            '402': { BPM: 11000, minLevel: 1.4, maxLevel: 15.5, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' },
            '461': { BPM: 11600, minLevel: 1.5, maxLevel: 16.0, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' },
            '462': { BPM: 11700, minLevel: 1.5, maxLevel: 16.0, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' },
            '501': { BPM: 11200, minLevel: 1.5, maxLevel: 16.0, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' },
            '502': { BPM: 11400, minLevel: 1.5, maxLevel: 16.0, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' },
            '521': { BPM: 12100, minLevel: 1.4, maxLevel: 15.8, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' },
            '522': { BPM: 12600, minLevel: 1.5, maxLevel: 16.0, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' },
            '531': { BPM: 11900, minLevel: 1.5, maxLevel: 16.0, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' },
            '534': { BPM: 12200, minLevel: 1.5, maxLevel: 16.0, department: 'PBCR', status: 'Ù…ØªØ§Ø­Ø©' }
        };

        let selectedTank = null;

        function initializeTankList() {
            const tankList = document.getElementById('tankList');
            
            // Show required tanks first
            const requiredTanks = Object.keys(tankData).filter(id => tankData[id].status === 'Ù…Ø·Ù„ÙˆØ¨Ø©');
            const otherTanks = Object.keys(tankData).filter(id => tankData[id].status !== 'Ù…Ø·Ù„ÙˆØ¨Ø©');
            
            const allTanks = [...requiredTanks, ...otherTanks];
            
            tankList.innerHTML = allTanks.map(tankId => {
                const tank = tankData[tankId];
                const isRequired = tank.status === 'Ù…Ø·Ù„ÙˆØ¨Ø©';
                const extraClass = isRequired ? 'style="border-color: #FFD700; background: rgba(255,215,0,0.2);"' : '';
                
                return `
                    <div class="tank-button" onclick="selectTank('${tankId}')" ${extraClass}>
                        <strong>Ø®Ø²Ø§Ù† ${tankId}</strong><br>
                        <small>${tank.status}</small>
                    </div>
                `;
            }).join('');
        }

        function selectTank(tankId) {
            selectedTank = tankId;
            
            // Update visual selection
            document.querySelectorAll('.tank-button').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
            
            // Show tank info
            const tank = tankData[tankId];
            const resultDiv = document.getElementById('result');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = `
                <h3>ğŸ“Š Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø®Ø²Ø§Ù† ${tankId}</h3>
                <p><strong>Ù†ÙˆØ¹ Ø§Ù„Ø®Ø²Ø§Ù†:</strong> ${tank.department}</p>
                <p><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> ${tank.status}</p>
                <p><strong>BPM:</strong> ${tank.BPM.toLocaleString()}</p>
                <p><strong>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰:</strong> ${tank.minLevel}Ù…</p>
                <p><strong>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰:</strong> ${tank.maxLevel}Ù…</p>
                <p><em>Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆØ§Ø¶ØºØ· "Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨Ø±Ø§Ù…ÙŠÙ„"</em></p>
            `;
        }

        function calculate() {
            if (!selectedTank) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø®Ø²Ø§Ù† Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            const currentLevel = parseFloat(document.getElementById('currentLevel').value);
            
            if (!currentLevel || currentLevel <= 0) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø³ØªÙˆÙ‰ ØµØ­ÙŠØ­');
                return;
            }

            const tank = tankData[selectedTank];
            const barrels = currentLevel * tank.BPM;
            const percentage = ((currentLevel - tank.minLevel) / (tank.maxLevel - tank.minLevel)) * 100;
            
            let statusColor = '#4CAF50';
            let statusText = 'Ù…Ø³ØªÙˆÙ‰ Ø·Ø¨ÙŠØ¹ÙŠ';
            
            if (currentLevel < tank.minLevel) {
                statusColor = '#f44336';
                statusText = 'Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ âš ï¸';
            } else if (currentLevel > tank.maxLevel) {
                statusColor = '#FF9800';
                statusText = 'Ø£Ø¹Ù„Ù‰ Ù…Ù† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ âš ï¸';
            }

            const resultDiv = document.getElementById('result');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = `
                <h3 style="color: ${statusColor};">ğŸ¯ Ù†ØªÙŠØ¬Ø© Ø­Ø³Ø§Ø¨ Ø®Ø²Ø§Ù† ${selectedTank}</h3>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin: 10px 0;">
                    <p><strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ:</strong> ${currentLevel}Ù…</p>
                    <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø¨Ø±Ø§Ù…ÙŠÙ„:</strong> ${barrels.toLocaleString()} Ø¨Ø±Ù…ÙŠÙ„</p>
                    <p><strong>Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©:</strong> ${percentage.toFixed(1)}%</p>
                    <p style="color: ${statusColor};"><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> ${statusText}</p>
                </div>
                <p><em>âœ… ØªÙ… Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ù„Ø¥Ù†ØªØ±Ù†Øª</em></p>
            `;
        }

        function showAllTanks() {
            const resultDiv = document.getElementById('result');
            resultDiv.style.display = 'block';
            
            const requiredTanks = Object.keys(tankData).filter(id => tankData[id].status === 'Ù…Ø·Ù„ÙˆØ¨Ø©');
            const allTanks = Object.keys(tankData);
            
            resultDiv.innerHTML = `
                <h3>ğŸ“‹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø©</h3>
                
                <div style="background: rgba(255,215,0,0.2); padding: 15px; border-radius: 8px; margin: 10px 0; border: 2px solid #FFD700;">
                    <h4 style="color: #FFD700; margin-top: 0;">ğŸ¯ Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</h4>
                    ${requiredTanks.map(id => {
                        const tank = tankData[id];
                        return `<p><strong>Ø®Ø²Ø§Ù† ${id}:</strong> BPM ${tank.BPM.toLocaleString()}</p>`;
                    }).join('')}
                </div>
                
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px; margin: 10px 0;">
                    <h4 style="margin-top: 0;">ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:</h4>
                    <p>â€¢ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª: ${allTanks.length}</p>
                    <p>â€¢ Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: ${requiredTanks.length}</p>
                    <p>â€¢ Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©: ${allTanks.length - requiredTanks.length}</p>
                    <p>â€¢ Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…: âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª Ù…ØªÙˆÙØ±Ø©</p>
                </div>
                
                <p><em>ğŸ’¡ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª ÙˆÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</em></p>
            `;
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            initializeTankList();
            console.log('âœ… Tank Calculator loaded - Offline mode ready');
            console.log(`ğŸ“Š Available tanks: ${Object.keys(tankData).length}`);
            console.log(`ğŸ¯ Required tanks: ${Object.keys(tankData).filter(id => tankData[id].status === 'Ù…Ø·Ù„ÙˆØ¨Ø©').join(', ')}`);
        });
    </script>
</body>
</html>